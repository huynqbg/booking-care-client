<div class="container h-full m-auto">
    <h1 class="text-center text-cyan-700 pt-3" translate="admin.manage-doctor.title"></h1>
    <div class="grid grid-cols-2 gap-4">
        <div>
            <label translate="admin.manage-doctor.select_doctor"></label>
            <nz-select
                class="w-full"
                nzShowSearch
                nzAllowClear
                nzPlaceHolder="Select a Doctor"
                [(ngModel)]="selectedDoctor"
                (ngModelChange)="handleSelectedDoctor($event)"
            >
                <nz-option
                    *ngFor="let doctor of listDoctors"
                    nzLabel="{{ language === 'vi' ? doctor.nameVi : doctor.nameEn }}"
                    nzValue="{{ doctor.id }}"
                ></nz-option>
            </nz-select>
        </div>
        <div>
            <label translate="admin.manage-doctor.introduction_info"></label>
            <textarea nz-input placeholder="Thông tin Bác sĩ" [(ngModel)]="description"></textarea>
        </div>
    </div>

    <div class="more-info-extra grid grid-cols-3 gap-4 mt-3">
        <div>
            <label for="">Chọn giá</label>
            <nz-form-control>
                <nz-select [(ngModel)]="selectedPrice" nzPlaceHolder="Chọn giá">
                    <nz-option
                        *ngFor="let price of listPrice"
                        [nzLabel]="language === 'vi' ? price.valueVi : price.valueEn"
                        [nzValue]="price.keyMap"
                    ></nz-option>
                </nz-select>
            </nz-form-control>
        </div>

        <div>
            <label for="">Chọn phương thức thanh toán</label>
            <nz-form-control>
                <nz-select [(ngModel)]="selectedPayment" nzPlaceHolder="Chọn phương thức thanh toán">
                    <nz-option
                        *ngFor="let payment of listPayment"
                        [nzLabel]="language === 'vi' ? payment.valueVi : payment.valueEn"
                        [nzValue]="payment.keyMap"
                    ></nz-option>
                </nz-select>
            </nz-form-control>
        </div>

        <div>
            <label> Chọn tỉnh thành </label>
            <nz-form-control>
                <nz-select [(ngModel)]="selectedProvince" nzPlaceHolder="Chọn tỉnh thành">
                    <nz-option
                        *ngFor="let province of listProvince"
                        [nzLabel]="language === 'vi' ? province.valueVi : province.valueEn"
                        [nzValue]="province.keyMap"
                    ></nz-option>
                </nz-select>
            </nz-form-control>
        </div>

        <nz-form-item>
            <nz-form-label> Tên phòng khám </nz-form-label>
            <nz-form-control>
                <input nz-input type="text" placeholder="" [(ngModel)]="nameClinic" />
            </nz-form-control>
        </nz-form-item>

        <nz-form-item>
            <nz-form-label> Địa chỉ phòng khám </nz-form-label>
            <nz-form-control>
                <input nz-input type="text" placeholder="" [(ngModel)]="addressClinic" />
            </nz-form-control>
        </nz-form-item>

        <nz-form-item>
            <nz-form-label> Note </nz-form-label>
            <nz-form-control>
                <input nz-input type="text" placeholder="" [(ngModel)]="note" />
            </nz-form-control>
        </nz-form-item>
    </div>
    <div class="mt-1">
        <h2 class="mb-1 text-cyan-700 text-base" translate="admin.manage-doctor.detail_info"></h2>
        <span class="mb-2 text-red-600 text-base">
            {{ 'admin.manage-doctor.guide_1' | translate }}
        </span>
        <br />
        <span class="text-danger">
            {{ 'admin.manage-doctor.guide_2' | translate }}
            <a nz-button nzType="primary" target="_blank" href="https://stackedit.io/app#">
                {{ 'admin.manage-doctor.guide_3' | translate }}
            </a>
        </span>
        <div class="grid grid-cols-2 mt-3 gap-6">
            <textarea
                nz-input
                class="rounded h-[400px] markdown-block text-lg"
                [(ngModel)]="markdown"
                placeholder="Nhập thông tin chi tiết ở dạng markdown vào đây"
            ></textarea>
            <div class="h-[400px] border border-gray-500 rounded overflow-auto">
                <markdown class="" [data]="markdown"></markdown>
            </div>
        </div>
    </div>
    <button
        class="btn {{ hasOldData ? 'btn-warning' : 'btn-primary' }} mt-2 w-[300px] mb-4"
        type="submit"
        (click)="submit()"
        translate="{{ hasOldData ? 'admin.manage-doctor.save' : 'admin.manage-doctor.add' }}"
    ></button>
</div>
